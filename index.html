<!DOCTYPE html>
<html lang="en">
    <meta charset="utf-8"/>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Endless Garden</title>
        <link rel="stylesheet" type="text/css"  href="shared.css" />
        <link rel="icon" href="https://i.imgur.com/quyjlS6.png">
    </head>
    <body>
        <script type="text/javascript" src="./built/virtually_universal_config.js"></script>
        <h1 id="title">An Endless Garden</h1>
        <h2 id="subtitle">Pixel plants to celebrate your achievements, tools to help with them, and gardens to build from them</h2>
        <div id=content_div>
            <div id="directory_div">
                <h2>Tools</h2>
                <label for="collection_link"><img src="https://i.imgur.com/13AXCvH.png" alt="Collection favicon"></label><a id="collection_link" class="directory_link" href="collection.html">Collection</a><br>
                <label for="completion_link"><img src="https://i.imgur.com/eAJt95n.png" alt="Completion tracker favicon"></label><a id="completion_link" class="directory_link" href="completion_tracker.html">Completion Tracker</a><br>
                <label for="garden_link"><img src="https://i.imgur.com/U7WgCMt.png" alt="Garden generator favicon"></label><a id="garden_link" class="directory_link" href="create_garden.html">Garden Creator</a><br>
                <!--<label for="wander_link"><img src="https://i.imgur.com/ipVjeXb.png" alt="Wander favicon"></label><a id="wander_link" class="directory_link" href="wander.html">???</a><br><br>-->
                <br>
                <h2>Plants</h2>
                <label for="swap_link"><img src="https://i.imgur.com/ufm0hIO.png" alt="Seed swap favicon"></label><a id="swap_link" class="directory_link" href="seed_swap.html">Seed Swap</a><br>
                <label for="todo_link"><img src="https://i.imgur.com/SIQJ3U0.png" alt="To-do favicon"></label><a id="todo_link" class="directory_link" href="to_do.html">To-Do List</a><br>
                <label for="bits_link"><img src="https://i.imgur.com/ttXOfMp.png" alt="bits favicon"></label><a id="bits_link" class="directory_link" href="bitsnbobs.html">Bits 'n Bobs</a><br>
                <h3>Bingo boards:</h3>
                <label for="coli_link"><img src="https://i.imgur.com/zevR9Uz.png" alt="Coli bingo favicon"></label><a id="coli_link" class="directory_link" href="bingo.html">Coli</a>
                <label for="coli_link"><img src="https://i.imgur.com/Q3X0I62.png" alt="Self-Care bingo favicon"></label><a id="self_care_link" class="directory_link" href="self_care_bingo.html">Self-Care</a>
                <label for="coli_link"><img src="https://i.imgur.com/AiYQLSq.png" alt="Extra Self-Care bingo favicon"></label><a id="extra_bingo_link" class="directory_link" href="self_care_bingo_extra.html">Self-Care Extras</a><br><br>
                <br>
                <h2>Everything Else</h2>
                <label for="sprite_link"><img src="https://i.imgur.com/fRqhbd7.png" alt="Sprite tester favicon"></label><a id="sprite_link" class="directory_link" href="sprite_sketcher.html">Sprite Tester</a><br>
                <label for="palette_link"><img src="https://i.imgur.com/pFuZrH6.png" alt="Palette tester favicon"></label><a id="palette_link" class="directory_link" href="palette_tester.html">Palette Tester</a><br> 
                <label for="settings_link"><img src="https://i.imgur.com/ipVjeXb.png" alt="Settings favicon"></label><a id="settings_link" class="directory_link" href="settings.html">Settings</a><br><br> 
                <h3>Legacy:</h3>
                <label for="legacy_swap_link"><img src="https://i.imgur.com/ufm0hIO.png" alt="Seed swap favicon"></label><a id="legacy_swap_link" class="directory_link" href="seed_swap.html">Seed Swap (no RS)</a><br>
                <label for="legacy_garden_link"><img src="https://i.imgur.com/U7WgCMt.png" alt="Garden generator favicon"></label><a id="legacy_garden_link" class="directory_link" href="random_garden.html">Old garden generator</a><br>
                <label for="legacy_todo_link"><img src="https://i.imgur.com/SIQJ3U0.png" alt="To-do favicon"></label><a id="legacy_todo_link" class="directory_link" href="to_do_legacy.html">Old To-Do List</a><br>
                <label for="utils_link"><img src="https://i.imgur.com/ttXOfMp.png" alt="Garden utils favicon"></label><a id="utils_link" class="directory_link" href="garden_utils.html">Utilities</a><br>

                <h3>What's all this? Where should I start?</h3>
                <span>Our documentation mostly lives on <a href="https://www1.flightrising.com/forums/adopt/3112071/1#post_3112071">this thread</a>. Should have everything you need! If not, ping me over there and I'll help out. -Ori</span>
            </div>
        </div>
    </body>

    <script>
// Inevitably, even the index page ends up with javascript.
const tutorial_stages = [
    ["Welcome to the Endless Garden","And thanks for stopping by! This site's all about rewarding everyday achievements with a gigantic collection of plants. As you can probably guess from the number of links, there's a lot more than just collecting--splicing, trading, gardening, all sorts of stuff!<br><br>Let's just focus on collecting for now. Hit the self-care bingo link and follow the instructions, clear a few bingo squares. Once a plant (or animal, or rock...) pops up, hit the Home button in the top-left."],
    ["Congrats on your first plant!","Or 'plant'. We used to only have plants, but now we have everything from deer to magic crystals, you never know what you'll find. Let's go admire your new friend! You can now click on the Collection link. It's got a lot going on, but right now let's just focus on Analyze (selected by default, try tapping any plant) and Backup (tap the button to make a backup). Both are on the right-hand side, or scroll down a bit if on mobile. Go make a backup and return here when you're done!"],
    ["Saving your data","Hope you liked your collection! It'll only grow from here. How about a technical aside followed by some free stuff? Your Endless Garden data is saved automatically and stored in your browser (localStorage if we're being technical). You can download this site and run it offline if you like! On the other hand, if you use many browsers/devices, that backup file will let you sync progress between them. If you check out the Settings menu, there's an option for loading backups there, but you can also mess with the site's colors if you like. Next time you return to this page, I'll have some new plants for you!"],
    ["More plants!","Now that you know how to make backups, let's return to the tutorial proper. You might've noticed in your collection that there's some random letters above your plants. Those are its 'seed', sort of its genetic code. If someone else pastes that seed into their own version of the site, they'll get a copy of your plant. Use seeds to share and trade! Here, copy the seeds below (commas and all), go to your Collection, and hit the newly available Add button to paste them in. Then you can hit Recycle, click any you don't like, and turn them into some fresh RS. What's RS? You'll find out when you come back!<br><br>D32UmCPUJQ, D5LzrCC883, C2cN1COiq7, D3pckB+mgC, C4tEvCFBek"],
    ["New ways to get plants", "Welcome back! Now, as promised, RS. It stands for 'raw seedstuff'. Trade any plant you don't want for RS using Recycle, then swap it for new plants or use it to alter ones you already have (like changing the colors around). You'll get RS other ways too, like clearings tasks off the To-Do list. I just opened it, come back here when you have 20 RS! You can check your total in the Collection."],
    ["Going shopping", "Congrats! Now that you've banked up some RS, we can trade it for more plants. Check out the Seed Swap! New plants show up every day. Get a total of 20 plants in your collection and we'll move on."],
    ["A growing collection", "You're making wonderful progress! Don't worry about speed, your garden is a marathon, not a sprint, and speaking of gardens...but you'll see that one at 35 plants! For now let's just unlock some more ways to earn plants. The general Bingo board is very powerful, and many people's main way of getting seeds. Bits 'n Bobs is for you creative types, and you can get your own 'personal' seed there either way in the second thingy. See you back here at 35 plants..."],
    ["The garden", "So we've got the 'Endless', but where's the 'Garden'? Good news, you've just unlocked it! The Garden Creator is a big weird thing that lets you arrange your plants all sorts of ways. It's also just fun to mess with. Try it now, just hit the Randomize button a bunch of times. You'll see loads of stuff popping up on the right-hand side, you can click-drag those to reorder them and see what happens. The best way to learn the garden creator is by messing with it. Come back here after giving it a go!"],
    ["What next?", "Congrats, you've got all the basics! By now you've probably realized there are a LOT of different plants, so we've got one more feature for you: the Completion Tracker. This will let you see how many bases/palettes/goodies (yet another thing) you've found. Check it out now. How many have you found?"],
    ["You completed the tutorial!", "That's all for now--thanks for bearing with me through it! Any remaining links should be clickable. There's tons to do around here (have you tried mutating your seeds in the Collection? What about making your own in the Sprite Tester? Did you know color names are clickable in Analyze?), but the real heart of your garden is the personal progress it represents. I hope this site helps you and your garden bears wonderful fruit!"],
];

function lock_link(id){
    let link = document.getElementById(id);
    link.href = "javascript:void(0);";
    link.className = "deactivated_directory_link";
    link.classList.add("disabled");
    link.innerText = "???";
}

function display_tutorial(){
    let tutorial_stage = localStorage.tstage == undefined ? 0 : JSON.parse(localStorage.tstage);
    if(tutorial_stage == -1 || tutorial_stage >= tutorial_stages.length){return;}
    let skip_modal = false;
    if(tutorial_stage == 6 || tutorial_stage == 7){
        collection_size = (localStorage["seed_collection"] == undefined ? "" : localStorage["seed_collection"]).split(",").length;
        if(tutorial_stage == 6 && collection_size < 20){skip_modal = true;};
        if(tutorial_stage == 7 && collection_size < 35){skip_modal = true;};
    }
    if(tutorial_stage == 5){
        seedpoints = localStorage["seed_points"] == undefined? 0 : JSON.parse(localStorage.seed_points);
        if(seedpoints < 20){ skip_modal = true};
    }
    if(!skip_modal){
        const modal = document.createElement("div");
        modal.classList.add("block_window");
        document.body.appendChild(modal);
        const modal_display = document.createElement("div");
        modal_display.classList.add("bingo-popup");
        modal_display.style.padding = "2em";
        const header = document.createElement("h2");
        header.textContent = tutorial_stages[tutorial_stage][0];
        header.style.textAlign = "center";
        modal_display.appendChild(header);
        const modal_text = document.createElement("p");
        modal_text.innerHTML = tutorial_stages[tutorial_stage][1];
        modal_display.appendChild(modal_text);
        const accept_button = document.createElement("button");
        accept_button.onclick = function () { localStorage.tstage = tutorial_stage + 1; document.body.removeChild(modal); };
        accept_button.innerText = "Onwards!";
        accept_button.classList.add("chunky_fullwidth");
        modal_display.appendChild(accept_button);
        if(tutorial_stage == 0){
            const skip_button = document.createElement("button");
            skip_button.onclick = function () { localStorage.tstage = -1; document.body.removeChild(modal); location.reload();};
            skip_button.innerText = "Skip Tutorial";
            skip_button.classList.add("chunky_fullwidth");
            modal_display.appendChild(skip_button);
        }
        modal.appendChild(modal_display);
    }
    // Lock extra links so the site's not super overwhelming
    if(tutorial_stage == -1){return};
    if(tutorial_stage<1){lock_link("collection_link")};
    if(tutorial_stage<4){lock_link("todo_link")};
    if(tutorial_stage<5){lock_link("swap_link")};
    if(tutorial_stage<6){lock_link("coli_link"); lock_link("bits_link")};
    if(tutorial_stage<7){lock_link("garden_link")};
    if(tutorial_stage<8){lock_link("completion_link")};
    if(tutorial_stage<9){lock_link("extra_bingo_link"); lock_link("sprite_link"); lock_link("palette_link")};
}

    display_tutorial();
    </script>
</html>
